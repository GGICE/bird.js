!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bird=e():t.bird=e()}(this,function(){return function(t){function e(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,s){"use strict";const{console:a}=window;e.a={isDo:()=>window.DEBUG,handleArg(t,e){e(t.join(" "))},log(...t){this.isDo()&&this.handleArg(t,a.log)},warn(...t){this.isDo()&&this.handleArg(t,a.warn)},error(...t){this.isDo()&&this.handleArg(t,a.error)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2);class i{constructor(t){this.wrap=document.querySelector(t.el),this.wrap.innerHTML=t.template,this.customEventHost=document.createElement("div")}static component(t,e){class s extends a.a{constructor(){super(e)}}customElements.define(t,s)}setTemplate(t){this.wrap.innerHTML=t}on(t,e){const{customEventHost:s}=this;s.addEventListener(t,t=>{t.preventDefault(),t.stopPropagation(),e(t.detail)})}trigger(t,e){const{customEventHost:s}=this,a=new CustomEvent(t,{detail:e});s.dispatchEvent(a)}}e.default=i},function(t,e,s){"use strict";var a=s(0),i=s(3),n=s(4),r=s(5);class o extends HTMLElement{constructor(t){super(),this.options=t}static get observedAttributes(){return["b-data"]}connectedCallback(){this.init();const{created:t}=this;t&&t.apply(this)}adoptedCallback(){const{attached:t}=this;t&&t.apply(this)}disconnectedCallback(){const{removed:t}=this;t&&t.apply(this)}attributeChangedCallback(t,e,s){const{attributeChanged:a}=this;a&&(a.apply(this,t,e,s),null===e&&this.initData&&JSON.stringify(this.initData[t])===s||this.reRender(t))}init(){const{template:t,data:e,created:s,styles:a,rendered:i}=this.options||{};e?(this.data=e,this.initData=Object.assign({},e)):this.data=null,this.initShadowEL(),this.applyAttrToData(),this.template=t||"",this.styles=a,this.rendered=i,this.created=s,this.bindAttr(),this.render(),this.options=null}parse(){return n.a.parse(this)}initShadowEL(){this.tempShadow=document.createElement("div").attachShadow({mode:"open"}),this.shadow=this.attachShadow({mode:"open"})}applyAttrToData(){let t=this.getAttribute("b-model");try{t=JSON.parse(t||"{}")}catch(e){a.a.warn("Have error : ",e),t={}}this.data=Object.assign({},this.data,t),this.setAttribute("b-model",i.a.getNewId())}applyDataToAttr(){this.setAttribute("b-data",i.a.getNewId())}bindAttr(){const{data:t}=this;this.applyDataToAttr(t)}setData(t){this.data=Object.assign(this.data,t),this.applyDataToAttr(t)}render(){this.shadow.innerHTML=this.parse(),this.bindEvents(),this.rendered&&this.rendered()}reRender(){this.tempShadow.innerHTML=this.parse(),r.a.diffAsyn(this.tempShadow,this.shadow),this.rendered&&this.rendered()}bindEvents(){const t=this.shadow;this.buildChildEvents(t)}buildChildEvents(t){[].forEach.call(t.childNodes,t=>{t.attributes&&t.attributes.length>0&&[].forEach.call(t.attributes,e=>{const s=e.value.match(/function\[(\w+)\]/);if(!s||!s[1])return;const a=this.data[s[1]],i=e.name.replace("on-","").toLowerCase();a&&t.addEventListener(i,a.bind(this))}),this.buildChildEvents(t)})}}e.a=o},function(t,e,s){"use strict";e.a={getNewId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let s=0;s<10;s+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}},function(module,__webpack_exports__,__webpack_require__){"use strict";class Btp{static parse(options){const{template:template,data:data,styles:styles}=options;let html=template.replace(/\r|\f|\n/g,"").replace(/( )+/g," ");html=Btp.parseEvent(html),html=Btp.parseNormal(html),html=html.replace(/b-@@##/g,"${"),html=`\`${html}\``;try{html=eval(html)}catch(t){window.console.warn(t)}return styles&&(html=`<style>${styles}</style>${html}`),html}static parseEvent(t){return t.replace(/on-\w*={{\w*}}/g,t=>` ${t.replace(/{{(\w*)}}/,(t,e)=>`function[${e}]`)}`)}static parseNormal(t){return t.replace(/{{/g,"${data.").replace(/}}/g,"}")}}__webpack_exports__.a=Btp},function(t,e,s){"use strict";var a=s(0);class i{static diff(t,e){if(t.innerHTML===e.innerHTML)return a.a.log("diff Same!");const s=this.getEls(e.childNodes),i=this.getEls(t.childNodes),n=s.length,r=i.length,o=Math.min(r,n);let l;if(r>n)for(l=n;l<r;l+=1)e.appendChild(i[l]);if(r<n)for(l=n;l>r;l-=1)e.removeChild(s[l-1]);for(l=0;l<o;l+=1)i[l].outerHTML!==s[l].outerHTML&&(i[l].tagName===s[l].tagName&&this.getEls(i[l].childNodes).length>0?this.diffAsyn(i[l],s[l]):e.replaceChild(i[l],s[l]));return!0}static diffAsyn(t,e){return new Promise(s=>{this.diff(t,e),s()})}static getEls(t){return[].filter.call(t,t=>1===t.nodeType)}}e.a=i}])});