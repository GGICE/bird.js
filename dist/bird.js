!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bird=e():t.bird=e()}(this,function(){return function(t){function e(s){if(a[s])return a[s].exports;var n=a[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,a){"use strict";const{console:s}=window;e.a={isDo:()=>window.DEBUG,handleArg(t,e){e(t.join(" "))},log(...t){this.isDo()&&this.handleArg(t,s.log)},warn(...t){this.isDo()&&this.handleArg(t,s.warn)},error(...t){this.isDo()&&this.handleArg(t,s.error)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(2);class n{constructor(t){this.wrap=document.querySelector(t.el),this.wrap.innerHTML=t.template,this.customEventHost=document.createElement("div")}static component(t,e){class a extends s.a{constructor(){super(e)}}customElements.define(t,a)}setTemplate(t){this.wrap.innerHTML=t}on(t,e){const{customEventHost:a}=this;a.addEventListener(t,t=>{t.preventDefault(),t.stopPropagation(),e(t.detail)})}trigger(t,e){const{customEventHost:a}=this,s=new CustomEvent(t,{detail:e});a.dispatchEvent(s)}}e.default=n},function(t,e,a){"use strict";var s=a(0),n=a(3),i=a(4),r=a(5);class o extends HTMLElement{constructor(t){super(),this.options=t}static get observedAttributes(){return["b-data"]}connectedCallback(){this.init();const{created:t}=this;t&&t.apply(this)}adoptedCallback(){const{attached:t}=this;t&&t.apply(this)}disconnectedCallback(){const{removed:t}=this;t&&t.apply(this)}attributeChangedCallback(t,e,a){const{attributeChanged:s}=this;s&&s.apply(this,t,e,a),null===e&&this.initData&&JSON.stringify(this.initData[t])===a||this.reRender(t)}init(){const{template:t,data:e,created:a,styles:s,rendered:n}=this.options||{};e?(this.data=e,this.initData=Object.assign({},e)):this.data=null,this.initShadowEL(),this.applyAttrToData(),this.template=t||"",this.styles=s,this.rendered=n,this.created=a,this.bindAttr(),this.render(),this.options=null}parse(){return i.a.parse(this)}initShadowEL(){this.tempShadow=document.createElement("div").attachShadow({mode:"open"}),this.shadow=this.attachShadow({mode:"open"})}applyAttrToData(){let t=this.getAttribute("b-model");try{t=JSON.parse((t||"{}").replace(/&nbsp;/g," "))}catch(e){s.a.warn("Have error : ",e),t={}}this.data=Object.assign({},this.data,t),this.setAttribute("b-model",n.a.getNewId())}applyDataToAttr(){this.setAttribute("b-data",n.a.getNewId())}bindAttr(){const{data:t}=this;this.applyDataToAttr(t)}setData(t){this.data=Object.assign(this.data,t),this.applyDataToAttr(t)}render(){this.shadow.innerHTML=this.parse(),this.bindEvents(),this.rendered&&this.rendered()}reRender(){this.tempShadow.innerHTML=this.parse(),r.a.diffAsyn(this.tempShadow,this.shadow),this.rendered&&this.rendered()}bindEvents(){const t=this.shadow;this.buildChildEvents(t)}buildChildEvents(t){[].forEach.call(t.childNodes,t=>{t.attributes&&t.attributes.length>0&&[].forEach.call(t.attributes,e=>{const a=e.value.match(/function\[(\w+)\]/);if(!a||!a[1])return;const s=this.data[a[1]],n=e.name.replace("on-","").toLowerCase();s&&t.addEventListener(n,s.bind(this))}),this.buildChildEvents(t)})}}e.a=o},function(t,e,a){"use strict";e.a={getNewId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let a=0;a<10;a+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_common_logs__=__webpack_require__(0);class Btp{static parse(options){function bMap(name,oneName,tp){const mapData=data[name];return!mapData.length||mapData.length<1?"":mapData.map(one=>eval(`var ${oneName} = one;\`${tp}\``)).join("")}function bGet(t){const e=data[t];return void 0===e?"":e}function bString(t){return JSON.stringify(t).replace(/ /g,"&nbsp;")}const{template:template,data:data,styles:styles}=options;if(!template)return __WEBPACK_IMPORTED_MODULE_0_common_logs__.a.warn("No template!"),"";let html=template.replace(/\r|\f|\n/g,"").replace(/( )+/g," ");html=Btp.parseEvent(html),html=Btp.parseNormal(html),html=html.replace(/b-@@##/g,"${"),html=`\`${html}\``;try{html=eval(html)}catch(t){window.console.warn(t)}return styles&&(html=`<style>${styles}</style>${html}`),html}static parseEvent(t){return t.replace(/on-\w*={{\w*}}/g,t=>` ${t.replace(/{{(\w*)}}/,(t,e)=>`function[${e}]`)}`)}static parseNormal(t){return t.replace(/{{/g,"${").replace(/}}/g,"}")}}__webpack_exports__.a=Btp},function(t,e,a){"use strict";var s=a(0);class n{static diff(t,e){if(t.innerHTML===e.innerHTML)return s.a.log("diff Same!");const a=this.getEls(e.childNodes),n=this.getEls(t.childNodes),i=a.length,r=n.length,o=Math.min(r,i);let l;if(r>i)for(l=i;l<r;l+=1)e.appendChild(n[l]);if(r<i)for(l=i;l>r;l-=1)e.removeChild(a[l-1]);for(l=0;l<o;l+=1)n[l].outerHTML!==a[l].outerHTML&&(n[l].tagName===a[l].tagName&&this.getEls(n[l].childNodes).length>0?this.diffAsyn(n[l],a[l]):e.replaceChild(n[l],a[l]));return!0}static diffAsyn(t,e){return new Promise(a=>{this.diff(t,e),a()})}static getEls(t){return[].filter.call(t,t=>1===t.nodeType)}}e.a=n}])});